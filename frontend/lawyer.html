<!DOCTYPE html>
<html>
<head>
  <title>Lawyer Profile</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 20px;
    }

    h1, h2, h3 {
      color: #333;
    }

    #profile {
      background-color: #fff;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    form {
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    label {
      display: block;
      margin-bottom: 5px;
    }

    input[type="time"], input[type="number"] {
      padding: 8px;
      margin-bottom: 10px;
    }

    button[type="submit"] {
      padding: 10px 20px;
      background-color: #333;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    button[type="submit"]:hover {
      background-color: #555;
    }
  </style>
</head>
<body>
  <h1>Lawyer Profile</h1>
  <div id="profile">
    <!-- Profile details will be dynamically populated here -->
  </div>
  <h2>Create Time Slot</h2>
  <form id="timeSlotForm">
    <label for="startTime">Start Time:</label>
    <input type="time" id="startTime" required>
    <br>
    <label for="endTime">End Time:</label>
    <input type="time" id="endTime" required>
    <br>
    <label for="duration">Duration (in minutes):</label>
    <input type="number" id="duration" required>
    <br>
    <button type="submit">Create Slot</button>
  </form>

  <script>
    // Add your JavaScript code here
    document.addEventListener('DOMContentLoaded', () => {
      // Retrieve and display the lawyer's profile details
      fetch('http://localhost:8080/client/get/648d90dd4d3d7b62407136bc')
        .then(response => response.json())
        .then(data => {
          const profileElement = document.getElementById('profile');
          const profileHtml = `
            <h3>${data.name}</h3>
            <p>Specialization: ${data.specialization}</p>
            <p>Experience: ${data.experience}</p>
            <p>Location: ${data.location}</p>
          `;
          profileElement.innerHTML = profileHtml;
        })
        .catch(error => console.error(error));

      // Handle form submission for creating time slots
      const timeSlotForm = document.getElementById('timeSlotForm');
      timeSlotForm.addEventListener('submit',async (event) => {
        event.preventDefault();
        
        const startTime = document.getElementById('startTime').value;
        const endTime = document.getElementById('endTime').value;
        const duration = document.getElementById('duration').value;

        console.log(startTime,endTime,duration)
        // Send the time slot data to the server for processing
       await fetch(`http://localhost:8080/lawyer/update/648d90dd4d3d7b62407136bc?startTime=${startTime}:00&&endTime=${endTime}:00&&slotDuration=${duration}`)
          .then(response => response.json())
          .then(data => {
            // Handle the response from the server
            console.log(data);
            // Refresh or update the page to reflect the new time slot
          })
          .catch(error => console.error(error));
      });
    });
  </script>
</body>
</html>
